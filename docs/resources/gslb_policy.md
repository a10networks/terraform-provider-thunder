---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "thunder_gslb_policy Resource - terraform-provider-thunder"
subcategory: ""
description: |-
  thunder_gslb_policy: Policy for GSLB zone, service or geo-location
  PLACEHOLDER
---

# thunder_gslb_policy (Resource)

`thunder_gslb_policy`: Policy for GSLB zone, service or geo-location

__PLACEHOLDER__

## Example Usage

```terraform
provider "thunder" {
    address  = var.dut9049
    username = var.username
    password = var.password
}

resource "thunder_gslb_policy" "thunder_gslb_policy_test" {
 name = "a10"
 health_check_preference_enable = 1
 health_preference_top = 1
 least_response = 1
 metric_fail_break = 1
 metric_force_check = 1
 metric_order = 0
 num_session_enable = 1
 num_session_tolerance = 17
 round_robin = 0
 weighted_alias = 1
 weighted_ip_enable = 1
 weighted_ip_total_hits = 1
 weighted_site_enable = 1
 weighted_site_total_hits = 1
 active_rdt {
  enable = 1
  single_shot = 1
  timeout = 5
  skip = 5
  keep_tracking = 1
  samples = 6
  tolerance = 11
  difference = 1
  limit = 16382
  fail_break = 1
  controller = 1
  proto_rdt_enable = 1
 }
 active_servers_enable = 1
 active_servers_fail_break = 1
 admin_ip_enable = 1
 admin_ip_top_only = 1
 admin_preference = 1
 alias_admin_preference = 1
 amount_first = 1
 auto_map {
  ttl = 200
  module_disable = 1
  all = 1
 }
 bw_cost_enable = 1
 bw_cost_fail_break = 1
 capacity {
  capacity_enable = 1
  threshold = 60
  capacity_fail_break = 1
 }
 connection_load {
    connection_load_enable = 1
    connection_load_fail_break = 1
    connection_load_samples = 1
    connection_load_interval = 1
    limit = 1
    connection_load_limit = 1
 }
 dns {
        server = 1
        server_authoritative = 1
        selected_only = 1
        selected_only_value = 1
        action = 1
        active_only = 1
        active_only_fail_safe = 1
        dns_auto_map = 1
        backup_alias =  1
        backup_server = 1
        cache = 1
        aging_time = 1000
  }
 edns {
      client_subnet_geographic = 1
  }
  geo_location_match {
    overlap = 1
    geo_type_overlap = "global"
    match_first = "policy"
  }
  geo_location_list {
     name = "GEO_LOCATION"
     ip_multiple_fields {
      ip_sub = "10.23.16.129"
      ip_mask_sub = "/23"
      ip_addr2_sub = "10.23.16.200"
     }
     ipv6_multiple_fields {
      ipv6_sub = "4001::1:10"
      ipv6_mask_sub = "64"
      ipv6_addr2_sub = "4001::1:100"
     }
     user_tag = "geo_loaction_tag"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Specify policy name

### Optional

- `active_rdt` (Block List, Max: 1) (see [below for nested schema](#nestedblock--active_rdt))
- `active_servers_enable` (Number) Enable Select Service-IP with the highest number of active servers
- `active_servers_fail_break` (Number) Break when no active server
- `admin_ip_enable` (Number) Enable admin ip
- `admin_ip_top_only` (Number) Return highest priority server only
- `admin_preference` (Number) Select Service-IP for the device having maximum admin preference
- `alias_admin_preference` (Number) Select alias name having maximum admin preference
- `amount_first` (Number) Select record based on the amount of available service-ip
- `auto_map` (Block List, Max: 1) (see [below for nested schema](#nestedblock--auto_map))
- `bw_cost_enable` (Number) Enable bw cost
- `bw_cost_fail_break` (Number) Break when exceed limit
- `capacity` (Block List, Max: 1) (see [below for nested schema](#nestedblock--capacity))
- `connection_load` (Block List, Max: 1) (see [below for nested schema](#nestedblock--connection_load))
- `dns` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns))
- `edns` (Block List, Max: 1) (see [below for nested schema](#nestedblock--edns))
- `geo_location_list` (Block List) (see [below for nested schema](#nestedblock--geo_location_list))
- `geo_location_match` (Block List, Max: 1) (see [below for nested schema](#nestedblock--geo_location_match))
- `geographic` (Number) Select Service-IP by geographic
- `health_check` (Number) Select Service-IP by health status
- `health_check_preference_enable` (Number) Check health preference
- `health_preference_top` (Number) Only keep top n
- `ip_list` (String) Specify IP List (IP List Name)
- `least_response` (Number) Least response selection
- `metric_fail_break` (Number) Break if no valid Service-IP
- `metric_force_check` (Number) Always check Service-IP for all enabled metrics
- `metric_order` (Number) Specify order of metric
- `metric_type` (String)
- `num_session_enable` (Number) Enable Select Service-IP for device having maximum number of available sessions
- `num_session_tolerance` (Number) The difference between the available sessions, default is 10 (Tolerance)
- `ordered_ip_top_only` (Number) Return highest priority server only
- `round_robin` (Number) Round robin selection, enabled by default
- `user_tag` (String) Customized tag
- `uuid` (String) uuid of the object
- `weighted_alias` (Number) Select alias name by weighted preference
- `weighted_ip_enable` (Number) Enable Select Service-IP by weighted preference
- `weighted_ip_total_hits` (Number) Weighted by total hits
- `weighted_site_enable` (Number) Enable Select Service-IP by weighted site preference
- `weighted_site_total_hits` (Number) Weighted by total hits

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--active_rdt"></a>
### Nested Schema for `active_rdt`

Optional:

- `controller` (Number) Active round-delay-time by controller
- `difference` (Number) The difference between the round-delay-time, default is 0
- `enable` (Number) Enable the active rdt
- `fail_break` (Number) Break when no valid RDT
- `ignore_id` (Number) Ignore IP Address specified in IP List by ID
- `keep_tracking` (Number) Keep tracking client even round-delay-time samples are ready
- `limit` (Number) Limit of allowed RDT, default is 16383 (Limit, unit: millisecond)
- `proto_rdt_enable` (Number) Enable the round-delay-time to the controller
- `samples` (Number) Specify samples number for round-delay-time (Number of samples,default is 5)
- `single_shot` (Number) Single Shot RDT
- `skip` (Number) Skip query if round-delay-time samples are not ready (Specify maximum skip count,default is 3)
- `timeout` (Number) Specify timeout if round-delay-time samples are not ready (Specify timeout, unit:sec,default is 3)
- `tolerance` (Number) The difference percentage between the round-delay-time, default is 10 (Tolerance)
- `uuid` (String) uuid of the object


<a id="nestedblock--auto_map"></a>
### Nested Schema for `auto_map`

Optional:

- `all` (Number) All modules
- `module_disable` (Number) Specify Disable Auto Map Module
- `module_type` (String)
- `ttl` (Number) Specify Auto Map TTL (TTL, default is 300)
- `uuid` (String) uuid of the object


<a id="nestedblock--capacity"></a>
### Nested Schema for `capacity`

Optional:

- `capacity_enable` (Number) Enable capacity
- `capacity_fail_break` (Number) Break when exceed threshold
- `threshold` (Number) Specify capacity threshold, default is 90
- `uuid` (String) uuid of the object


<a id="nestedblock--connection_load"></a>
### Nested Schema for `connection_load`

Optional:

- `connection_load_enable` (Number) Enable connection-load
- `connection_load_fail_break` (Number) Break when exceed limit
- `connection_load_interval` (Number) Interval between two samples, Unit: second (Interval value,default is 5)
- `connection_load_limit` (Number) The value of the connection-load limit, default is unlimited
- `connection_load_samples` (Number) Specify samples for connection-load (Number of samples used to calculate the connection load, default is 5)
- `limit` (Number) Limit of maxinum connection load, default is unlimited
- `uuid` (String) uuid of the object


<a id="nestedblock--dns"></a>
### Nested Schema for `dns`

Optional:

- `action` (Number) Apply DNS action for service
- `action_type` (String) 'drop': Drop query; 'reject': Send refuse response; 'ignore': Send empty response;
- `active_only` (Number) Only keep active servers
- `active_only_fail_safe` (Number) Continue if no candidate
- `aging_time` (Number) Specify aging-time, default is TTL in DNS record, unit: second (Aging time, default 0 means using TTL in DNS record as aging time)
- `backup_alias` (Number) Return alias name when fail
- `backup_server` (Number) Return fallback server when fail
- `block_action` (Number) Specify Action
- `block_type` (String)
- `block_value` (Block List) (see [below for nested schema](#nestedblock--dns--block_value))
- `cache` (Number) Cache DNS Server response
- `cname_detect` (Number) Apply GSLB for DNS Server response when service is Canonical Name (CNAME)
- `delegation` (Number) Zone Delegation
- `dns_addition_mx` (Number) Append MX Records in Addition Section
- `dns_auto_map` (Number) Automatically build DNS Infrastructure
- `dynamic_preference` (Number) Make dynamically change the preference
- `dynamic_weight` (Number) dynamically change the weight
- `external_ip` (Number) Return DNS response with external IP address
- `external_soa` (Number) Return DNS response with external SOA Record
- `geoloc_action` (Number) Apply DNS action by geo-location
- `geoloc_alias` (Number) Return alias name by geo-location
- `geoloc_policy` (Number) Apply different policy by geo-location
- `hint` (String) 'none': None; 'answer': Append Hint Records in DNS Answer Section; 'addition': Append Hint Records in DNS Addition Section;
- `ip_replace` (Number) Replace DNS Server Response with GSLB Service-IPs
- `ipv6` (Block List) (see [below for nested schema](#nestedblock--dns--ipv6))
- `logging` (String) 'none': None; 'query': DNS Query; 'response': DNS Response; 'both': Both DNS Query and Response;
- `proxy_block_port_range_list` (Block List) (see [below for nested schema](#nestedblock--dns--proxy_block_port_range_list))
- `selected_only` (Number) Only keep selected servers
- `selected_only_value` (Number) Answer Number
- `server` (Number) Run GSLB as DNS server mode
- `server_addition_mx` (Number) Append MX Records in Addition Section
- `server_any` (Number) Provide All Records
- `server_any_with_metric` (Number) Provide All Records with GSLB Metrics applied to A/AAAA Records
- `server_authoritative` (Number) As authoritative server
- `server_auto_ns` (Number) Provide A-Records for NS-Records automatically
- `server_auto_ptr` (Number) Provide PTR Records automatically
- `server_cname` (Number) Provide CNAME Records
- `server_custom` (Number) Provide Custom Records
- `server_full_list` (Number) Append All A Records in Authoritative Section
- `server_mode_only` (Number) Only run GSLB as DNS server mode
- `server_mx` (Number) Provide MX Records
- `server_naptr` (Number) Provide NAPTR Records
- `server_ns` (Number) Provide NS Records
- `server_ns_list` (Number) Append All NS Records in Authoritative Section
- `server_ptr` (Number) Provide PTR Records
- `server_sec` (Number) Provide DNSSEC support
- `server_srv` (Number) Provide SRV Records
- `server_txt` (Number) Provide TXT Records
- `sticky` (Number) Make DNS Record sticky for certain time
- `sticky_aging_time` (Number) Specify aging-time, unit: min, default is 5 (Aging time)
- `sticky_ipv6_mask` (Number) Specify IPv6 mask length, default is 128
- `sticky_mask` (String) Specify IP mask, default is /32
- `template` (String) Logging template (Logging Template Name)
- `ttl` (Number) Specify the TTL value contained in DNS record (TTL value, unit: second, default is 10)
- `use_server_ttl` (Number) Use DNS Server Response TTL value in GSLB Proxy mode
- `uuid` (String) uuid of the object

<a id="nestedblock--dns--block_value"></a>
### Nested Schema for `dns.block_value`

Optional:

- `block_value` (Number) Specify Type Number


<a id="nestedblock--dns--ipv6"></a>
### Nested Schema for `dns.ipv6`

Optional:

- `dns_ipv6_mapping_type` (String) 'addition': Append Mapped Record in DNS Addition Section; 'answer': Append Mapped Record in DNS Answer Section; 'exclusive': Only return AAAA Record; 'replace': Replace Record with Mapped Record;
- `dns_ipv6_option` (String) 'mix': Return both AAAA Record and A Record; 'smart': Return AAAA Record by DNS Query Type; 'mapping': Map A Record to AAAA Record;


<a id="nestedblock--dns--proxy_block_port_range_list"></a>
### Nested Schema for `dns.proxy_block_port_range_list`

Optional:

- `proxy_block_range_from` (Number) Specify Type Range (From)
- `proxy_block_range_to` (Number) To



<a id="nestedblock--edns"></a>
### Nested Schema for `edns`

Optional:

- `client_subnet_geographic` (Number) Use client subnet for geo-location
- `uuid` (String) uuid of the object


<a id="nestedblock--geo_location_list"></a>
### Nested Schema for `geo_location_list`

Required:

- `name` (String) Specify geo-location name, section range is (1-15)

Optional:

- `ip_multiple_fields` (Block List) (see [below for nested schema](#nestedblock--geo_location_list--ip_multiple_fields))
- `ipv6_multiple_fields` (Block List) (see [below for nested schema](#nestedblock--geo_location_list--ipv6_multiple_fields))
- `user_tag` (String) Customized tag
- `uuid` (String) uuid of the object

<a id="nestedblock--geo_location_list--ip_multiple_fields"></a>
### Nested Schema for `geo_location_list.ip_multiple_fields`

Optional:

- `ip_addr2_sub` (String) Specify IP address range
- `ip_mask_sub` (String) Specify IP/mask format (Specify IP address mask)
- `ip_sub` (String) Specify IP information


<a id="nestedblock--geo_location_list--ipv6_multiple_fields"></a>
### Nested Schema for `geo_location_list.ipv6_multiple_fields`

Optional:

- `ipv6_addr2_sub` (String) Specify IPv6 address range
- `ipv6_mask_sub` (Number) Specify IPv6/mask format (Specify IP address mask)
- `ipv6_sub` (String) Specify IPv6 information



<a id="nestedblock--geo_location_match"></a>
### Nested Schema for `geo_location_match`

Optional:

- `geo_type_overlap` (String) 'global': Global Geo-location; 'policy': Policy Geo-location;
- `match_first` (String) 'global': Global Geo-location; 'policy': Policy Geo-location;
- `overlap` (Number) Enable overlap mode to do longest match
- `uuid` (String) uuid of the object


