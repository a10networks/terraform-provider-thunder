---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "thunder_ddos_template_dns Resource - terraform-provider-thunder"
subcategory: ""
description: |-
  thunder_ddos_template_dns: DNS template Configuration
  PLACEHOLDER
---

# thunder_ddos_template_dns (Resource)

`thunder_ddos_template_dns`: DNS template Configuration

__PLACEHOLDER__

## Example Usage

```terraform
provider "thunder" {
  address  = var.dut9049
  username = var.username
  password = var.password
}
resource "thunder_ddos_template_dns" "thunder_ddos_template_dns" {
  name          = "test"
  action        = "drop"
  dns_any_check = 1
  fqdn_label_len_cfg {
    fqdn_label_length = 1
    label_length      = 2
    fqdn_label_suffix = 2
  }

  fqdn_label_count = 2
  nxdomain_cfg {
    dns_nxdomain_rate_limit        = 1
    dns_nxdomain_rate              = 22
    dns_nxdomain_rate_limit_action = "drop"
  }
  symtimeout_cfg {
    sym_timeout       = 1
    sym_timeout_value = 2
  }
  dns_request_rate_limit {
    type {
      ns_cfg {
        ns          = 1
        dns_ns_rate = 22
      }
    }
  }
  domain_group_rate_exceed_action        = "drop"
  domain_group_rate_per_service          = 1
  query_rate_threshold_for_cache_serving = 22
  allow_query_class {
    allow_any_query_class = 1
  }
  allow_record_type {
    allow_aaaa_type = 1
  }
  user_tag = "test"
  malformed_query_check {
    validation_type         = "disable"
    non_query_opcode_check  = "disable"
    skip_multi_packet_check = 1
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)

### Optional

- `action` (String) 'drop': Drop packets (Default action); 'reset': Send Client RST for TCP connections;
- `allow_query_class` (Block List, Max: 1) (see [below for nested schema](#nestedblock--allow_query_class))
- `allow_record_type` (Block List, Max: 1) (see [below for nested schema](#nestedblock--allow_record_type))
- `dns_any_check` (Number) Drop DNS queries of Type ANY
- `dns_auth_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_auth_cfg))
- `dns_request_rate_limit` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit))
- `domain_group_name` (String) Apply a domain-group to the DNS template
- `domain_group_rate_exceed_action` (String) 'drop': Drop the query (default); 'tunnel-encap-packet': Encapsulate the query and send on a tunnel;
- `domain_group_rate_per_service` (Number) Enable per service domain rate checking
- `encap_template` (String) DDOS encap template to sepcify the tunnel endpoint
- `fqdn_cfg` (Block List) (see [below for nested schema](#nestedblock--fqdn_cfg))
- `fqdn_label_count` (Number) Maximum number of length of FQDN labels
- `fqdn_label_len_cfg` (Block List) (see [below for nested schema](#nestedblock--fqdn_label_len_cfg))
- `malformed_query_check` (Block List, Max: 1) (see [below for nested schema](#nestedblock--malformed_query_check))
- `multi_pu_threshold_distribution` (Block List, Max: 1) (see [below for nested schema](#nestedblock--multi_pu_threshold_distribution))
- `nxdomain_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--nxdomain_cfg))
- `on_no_match` (String) 'permit': permit; 'deny': deny (default);
- `query_rate_threshold_for_cache_serving` (Number) This is for DNS cache mode only, it sets a DNS query rate threshold such that queries under the rate threshold would be forward
- `symtimeout_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--symtimeout_cfg))
- `user_tag` (String) Customized tag
- `uuid` (String) uuid of the object

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--allow_query_class"></a>
### Nested Schema for `allow_query_class`

Optional:

- `allow_any_query_class` (Number) ANY query class
- `allow_chaos_query_class` (Number) CHAOS query class
- `allow_csnet_query_class` (Number) CSNET query class
- `allow_hesiod_query_class` (Number) HESIOD query class
- `allow_internet_query_class` (Number) INTERNET query class
- `allow_none_query_class` (Number) NONE query class


<a id="nestedblock--allow_record_type"></a>
### Nested Schema for `allow_record_type`

Optional:

- `allow_a_type` (Number) Address record
- `allow_aaaa_type` (Number) IPv6 address record
- `allow_cname_type` (Number) Canonical name record
- `allow_mx_type` (Number) Mail exchange record
- `allow_ns_type` (Number) Name server record
- `allow_srv_type` (Number) Service locator
- `record_num_cfg` (Block List) (see [below for nested schema](#nestedblock--allow_record_type--record_num_cfg))

<a id="nestedblock--allow_record_type--record_num_cfg"></a>
### Nested Schema for `allow_record_type.record_num_cfg`

Optional:

- `allow_num_type` (Number) Other record type value



<a id="nestedblock--dns_auth_cfg"></a>
### Nested Schema for `dns_auth_cfg`

Optional:

- `dns_auth` (Number) DNS authentication
- `dns_auth_type` (String) 'udp': Drop DNS request and monitor client retry; 'force-tcp': Force DNS request over TCP;
- `force_tcp_ignore_client_source_port` (Number) Allow client to retransmit DNS request using different source port during udp-auth (supported in asymmetric mode only)
- `force_tcp_min_retry_gap` (Number) Minimum sec gap in between 2 dns-udp packets for auth to pass
- `force_tcp_timeout` (Number) TCP authentication timeout in seconds
- `min_retry_gap` (Number) Optional minimum sec gap in between 2 dns-udp packets for auth to pass, unit is specified by min-retry-gap-interval
- `min_retry_gap_interval` (String) '100ms': 100ms; '1sec': 1sec;
- `udp_timeout` (Number) UDP authentication timeout in seconds
- `udp_timeout_val_only` (Number) UDP authentication timeout in seconds
- `with_udp_auth` (Number) Monitor client retry


<a id="nestedblock--dns_request_rate_limit"></a>
### Nested Schema for `dns_request_rate_limit`

Optional:

- `type` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type))

<a id="nestedblock--dns_request_rate_limit--type"></a>
### Nested Schema for `dns_request_rate_limit.type`

Optional:

- `a_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--a_cfg))
- `aaaa_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--aaaa_cfg))
- `cname_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--cname_cfg))
- `dns_type_cfg` (Block List) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--dns_type_cfg))
- `mx_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--mx_cfg))
- `ns_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--ns_cfg))
- `srv_cfg` (Block List, Max: 1) (see [below for nested schema](#nestedblock--dns_request_rate_limit--type--srv_cfg))

<a id="nestedblock--dns_request_rate_limit--type--a_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.a_cfg`

Optional:

- `a` (Number) Address record
- `dns_a_rate` (Number)


<a id="nestedblock--dns_request_rate_limit--type--aaaa_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.aaaa_cfg`

Optional:

- `aaaa` (Number) IPv6 address record
- `dns_aaaa_rate` (Number)


<a id="nestedblock--dns_request_rate_limit--type--cname_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.cname_cfg`

Optional:

- `cname` (Number) Canonical name record
- `dns_cname_rate` (Number)


<a id="nestedblock--dns_request_rate_limit--type--dns_type_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.dns_type_cfg`

Optional:

- `dns_request_type` (Number) Other type value
- `dns_request_type_rate` (Number) request rate limit


<a id="nestedblock--dns_request_rate_limit--type--mx_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.mx_cfg`

Optional:

- `dns_mx_rate` (Number)
- `mx` (Number) Mail exchange record


<a id="nestedblock--dns_request_rate_limit--type--ns_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.ns_cfg`

Optional:

- `dns_ns_rate` (Number)
- `ns` (Number) Name server record


<a id="nestedblock--dns_request_rate_limit--type--srv_cfg"></a>
### Nested Schema for `dns_request_rate_limit.type.srv_cfg`

Optional:

- `dns_srv_rate` (Number) DNS request rate
- `srv` (Number) Service locator




<a id="nestedblock--fqdn_cfg"></a>
### Nested Schema for `fqdn_cfg`

Optional:

- `by` (String) 'domain-name': Domain Name; 'src-ip': Source IP address; 'both': Use both Domain Name and Source IP address for rate-limiting;
- `dns_fqdn_rate` (Number) Limiting rate (Range: 5-8000 for FQDN domain based rate limiting, 5-16000000 for FQDN label count based rate limiting)
- `dns_fqdn_rate_limit` (Number) DNS Rate limiting on the basis of FQDN
- `fqdn_rate_label_count` (Number) FQDN label count (Range: 1-8)
- `fqdn_rate_suffix` (Number) Suffix count
- `fqdn_rate_suffix_by` (Number) Number of suffixes
- `per` (String) 'domain-name': Domain Name; 'src-ip': Source IP address; 'label-count': FQDN label count;
- `per_domain_per_src_ip` (Number) Use both Domain Name and Source IP address for rate-limiting


<a id="nestedblock--fqdn_label_len_cfg"></a>
### Nested Schema for `fqdn_label_len_cfg`

Optional:

- `fqdn_label_length` (Number) Maximum FQDN label length
- `fqdn_label_suffix` (Number) Number of suffixes
- `label_length` (Number) Maximum length of FQDN label


<a id="nestedblock--malformed_query_check"></a>
### Nested Schema for `malformed_query_check`

Optional:

- `non_query_opcode_check` (String) 'disable': When malform check is enabled, TPS always drops DNS query with non query opcode, this option disables this opcode check;
- `skip_multi_packet_check` (Number) Bypass DNS fragmented and TCP segmented Queries(Default: dropped)
- `uuid` (String) uuid of the object
- `validation_type` (String) 'basic-header-check': Basic header validation for DNS TCP/UDP queries; 'extended-header-check': Extended header/query validation for DNS TCP/UDP queries; 'disable': Disable Malform query validation for DNS TCP/UDP;


<a id="nestedblock--multi_pu_threshold_distribution"></a>
### Nested Schema for `multi_pu_threshold_distribution`

Optional:

- `multi_pu_threshold_distribution_disable` (String) 'disable': Destination side rate limit only. Default: Enable;
- `multi_pu_threshold_distribution_value` (Number) Destination side rate limit only. Default: 0


<a id="nestedblock--nxdomain_cfg"></a>
### Nested Schema for `nxdomain_cfg`

Optional:

- `dns_nxdomain_rate` (Number) Limiting rate
- `dns_nxdomain_rate_limit` (Number) DNS NXDOMAIN Rate Limiting (SRC support only)
- `dns_nxdomain_rate_limit_action` (String) 'drop': Drop queries if rate is exceeded; 'black-list': Black-List source if rate is exceeded;


<a id="nestedblock--symtimeout_cfg"></a>
### Nested Schema for `symtimeout_cfg`

Optional:

- `sym_timeout` (Number) Timeout for DNS Symmetric session
- `sym_timeout_value` (Number) Session timeout value in seconds


